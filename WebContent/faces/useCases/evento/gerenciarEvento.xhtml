<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    template="/template/siciiLayout.xhtml">
	
   <ui:define name="bodyContent">
    	<rich:panel styleClass="panel">
    		<h2> Gerenciar Evento Investigação </h2> 
    		<h3> Pesquisa </h3>
        	<h:form>
        		<div class="panelgrid,actionButtons">	            
						<h:panelGrid columns="2">
								<h:outputLabel for="codigoEvento">Codigo do Evento</h:outputLabel>
								<h:inputText id="codigoEvento" value="#{eventoInvestigacao.codigoEvento}" />
								<h:outputLabel for="numeroEvento">Numero do Evento</h:outputLabel>
								<h:inputText id="numeroEvento" value="#{eventoInvestigacao.numeroEvento}" />						
								<h:outputLabel for="ano">Ano do Evento</h:outputLabel>
								<h:inputText id="ano" value="#{eventoInvestigacao.ano}" />
								<h:outputLabel for="descricao">Descrição do Evento</h:outputLabel>
								<h:inputText id="descricao" value="#{eventoInvestigacao.descricao}" />
						</h:panelGrid>	
						<h:commandButton value="Buscar" id="buscarButton" action="#{eventoManaged.pesquisarEvento}" />					
						<h:commandButton value="Novo Evento" id="cadastrarButton" action="/faces/useCases/evento/cadastrarEvento.xhtml" />					
						<!--  <a4j:commandButton value="Cadastrar Investigado" id="cadastrarButton" oncomplete="Richfaces.showModalPanel('cadastroPanel')" reRender="cadastroPanel"/>
						<rich:componentControl for="cadastroPanel" attachTo="cadastrarButton"  event="onclick" operation="show"/>
						-->
				</div>
			</h:form>
			<br/>
	        <a4j:form>	        
		 		<div id="listaEventos" class="panelgrid,actionButtons">
			        <h:panelGroup rendered="#{eventoManaged.eventosConsultados.size eq 0}" > Nenhum Evento Registrado</h:panelGroup>	        
			        <rich:dataTable id="tableEventos" value="#{eventoManaged.eventosConsultados}" var="evento" rendered="#{eventoManaged.eventosConsultados.size gt 0}" 
			        				styleClass="gradeLocalizados" headerClass="gradeLocalizadosHeader" rowClasses="oddRow,evenRow" captionStyle="">
			        	<f:facet name="header">REGISTROS LOCALIZADOS</f:facet>
			        	<rich:column>
			        		<f:facet name="header">CÓDIGO</f:facet>
			        		<h:outputText value="#{evento.codigoEvento}" />
			        	</rich:column>			        	
			        	<rich:column>
			        		<f:facet name="header">NÚMERO</f:facet>
			        		<h:outputText value="#{evento.numeroEvento}" />
			        	</rich:column>
			        	<rich:column>
			        		<f:facet name="header">ANO</f:facet>
			        		<h:outputText value="#{evento.ano}" />
			        	</rich:column>	        		        	
			        	<rich:column>
			        		<f:facet name="header">DESCRIÇÃO</f:facet>
			        		<h:outputText value="#{evento.descricao}" />
			        	</rich:column>	        		        	
			        	<rich:column><a4j:commandLink id="excluir" action="#{eventoManaged.excluirEvento(evento)}"><h:graphicImage styleClass="iconesDeGrade" value="/img/excluir.png" alt="Excluir Evento"/></a4j:commandLink></rich:column>
			        	<rich:column><a4j:commandLink id="editar" action="/faces/useCases/evento/cadastrarEvento.xhtml"><h:graphicImage styleClass="iconesDeGrade" value="/img/editar.png" alt="Editar Evento"/></a4j:commandLink></rich:column>
			        </rich:dataTable>		        	           
		        </div>
	        </a4j:form>			
        </rich:panel>
 	</ui:define>
 </ui:composition> 
 
