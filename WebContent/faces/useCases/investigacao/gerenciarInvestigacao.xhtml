<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    template="/template/siciiLayout.xhtml">
	
	<ui:define name="bodyContent">
    	<rich:panel styleClass="panel">
    		<h2> Gerenciar Investigacao </h2> 
    		<h3> Pesquisa </h3>
        	<h:form>
        		<div class="panelgrid,actionButtons">	            
						<h:panelGrid  columns="2">
							<h:outputLabel for="cpf">cpf</h:outputLabel>
							<h:inputText id="cpf" value="#{investigado.cpf}" />
							<h:outputLabel for="nome">nome</h:outputLabel>
							<h:inputText id="nome" value="#{investigado.nome}" />						
						</h:panelGrid>
				</div>											
				<div class="actionButtons">
					<h:commandButton value="Buscar" id="buscarButton" action="#{investigadoManaged.pesquisarInvestigado}" />					
					<h:commandButton value="Cadastrar Investigado" id="cadastrarButton" action="/faces/useCases/investigado/cadastrarInvestigado.xhtml" />										
				</div>
			</h:form>
			<br/><br/>
	        <div id="listaInvestigacoes" class="panelgrid,actionButtons">
		        <h:panelGroup rendered="#{investigacaoManaged.investigacoes.size eq 0}" > <h3>Nenhuma investigacao</h3> </h:panelGroup>
		        <rich:dataTable id="tableInvestigacao" value="#{investigacaoManaged.investigacoes}" var="investigacao" rendered="#{investigacaoManaged.investigacoes.size gt 0}" 
		           styleClass="gradeLocalizados" headerClass="gradeLocalizadosHeader" rowClasses="oddRow,evenRow" captionStyle="">	        
					<f:facet name="header">REGISTROS LOCALIZADOS</f:facet>
					<rich:column>
						<f:facet name="header">INVESTIGAÇÃO</f:facet>
		        		<h:outputText value="#{investigacao.eventoInvestigacao.descricao}" />
		        	</rich:column>	        		
	        		<rich:column>
			        	<f:facet name="header">DATA</f:facet>
			        	<h:column><h:outputText value="#{investigacao.cadastradoEm}" /></h:column>
					</rich:column>		        	
					<rich:column>
			        	<f:facet name="header">SITUACAO</f:facet>
			        	<h:column><h:outputText value="#{investigacao.situacao}" /></h:column>
					</rich:column>				
					<rich:column><h:commandLink id="alterarButton" action="#{investigacaoManaged.selecionarInvestigacao(investigacao)}"><h:graphicImage styleClass="iconesDeGrade" value="/img/editar.png" alt="Editar Investigacao"/></h:commandLink></rich:column>	
		        	<rich:column><h:commandLink id="excluirButton" action="#{investigacaoManaged.excluirInvestigacao(investigacao)}"><h:graphicImage styleClass="iconesDeGrade" value="/img/excluir.png" alt="Excluir Investigacao"/></h:commandLink>></rich:column>
					<rich:column><h:commandLink id="gerarButton" action="#{investigacaoManaged.gerarRis(investigacao)}"><h:graphicImage styleClass="iconesDeGrade" value="/img/excluir.png" alt="Gerar Ris"/></h:commandLink></rich:column>
					<rich:column><h:commandLink id="cadastrarParecerButton" action="#{investigacaoManaged.cadastrarParecer}"><h:graphicImage styleClass="iconesDeGrade" value="/img/excluir.png" alt="Cadastrar Parecer"/></h:commandLink></rich:column>		        		        		        
		        </rich:dataTable>	           
	        </div>			
        </rich:panel>                
    </ui:define>
</ui:composition>